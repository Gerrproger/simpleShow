/*!
 *  simpleShow
 *  v1.4
 *  (c) 2014 Evgenii Dulikov <gerrproger@gmail.com>
 *  https://github.com/Gerrproger/simpleShow
 */
(function(e){var t={init:function(n,r){var i=e.extend({speed:1e3,interval:4e3,radios:true,arrows:true,effect:"crossfade",blocks:10,direction:"bottom",normIndex:10,maxIndex:100},n);jQuery.extend(jQuery.easing,{swing:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n}});if(!r)var r=this;return r.each(function(){function m(){a=setInterval(function(){g()},i.interval+i.speed);r.data("timer",a)}function g(t,n){var s,a,d=r.width(),v=r.height();if(u==c){u=s=0;a=t?1:c-1}else{s=u;a=t?u+1==c?0:u+1:u-1}if(n!=undefined)a=n;var m=l.eq(s),g=l.eq(a);switch(i.effect){case"crossfade":{var y=i.speed*.5;m.fadeIn(y);g.fadeOut(y)}break;case"fading":{var y=i.speed*.5;g.fadeOut(y,function(){m.fadeIn(y)})}break;case"sliding":{var y=i.speed,b=h=="left"||h=="right"?d:v,w=b*.1,E=h=="left"||h=="right",S=E?h=="left"?"+="+w:"-="+w:"auto",x=E?h=="left"?"-="+(b+w):"+="+(b+w):"auto",T=!E?h=="top"?"+="+w:"-="+w:"auto",N=!E?h=="top"?"-="+(b+w):"+="+(b+w):"auto";g.css({"z-index":i.maxIndex,height:v,width:d}).animate({left:S,top:T},y*.3).delay(y*.1).animate({left:x,top:N},y*.6,function(){e(this).css({display:"none","z-index":i.normIndex,left:0,top:0,height:"auto",width:"auto"})});m.css("display","block")}break;case"blocks":{var C=Math.floor(d/p)+1,d=d,v=v,k=Math.floor(v/p)+1,L=g,y=Math.floor(i.speed/p),A=h=="bottom"||h=="top",O=A?(h=="top"?-1:1)*v:"auto",M=h=="left"||h=="right"?(h=="left"?-1:1)*d:"auto";for(var _=0;_<p;_++){var D=e("<div>");D.css({position:"absolute",width:A?C:d,height:A?v:k,"z-index":i.maxIndex,top:A?0:_*k+"px",overflow:"hidden",left:A?_*C+"px":0}).html(e(L).clone().css({top:A?0:-1*_*k+"px",width:d,height:v,left:A?-1*_*C+"px":0})).appendTo(r);D.delay(y*_).animate({top:O,left:M,opacity:.2},y*2,function(){e(this).remove()})}m.css("display","block");g.css("display","none")}}f.eq(s).addClass(o);f.eq(a).removeClass(o);u++}var r=e(this),s=".simpleShow-",o="simpleShow-active",u=1,a=null,f=null,l=r.find(s+"slides "+s+"slide"),c=l.length,h=i.direction,p=i.blocks,d=r.data("pref");if(!d){r.data({pref:i,slides:l});if(c<2)return;if(i.arrows)r.find(s+"controls").append('<a class="simpleShow-toLeft" href="#"></a>').append('<a class="simpleShow-toRight" href="#"></a>');if(i.radios){r.find(s+"controls").append('<div class="simpleShow-radios"></div>');for(var v=0;v<c;v++)r.find(s+"radios").append('<a href="#" class="simpleShow-radio"></a>');r.find(s+"radio:first").addClass(o);f=r.find(s+"radio")}l.css({overflow:"hidden","z-index":i.normIndex});r.find(s+"toLeft").click(function(e){e.preventDefault();clearInterval(a);u=u>2?u-2:u==1?c-1:c;g(true);m()});r.find(s+"toRight").click(function(e){e.preventDefault();clearInterval(a);g();m()});r.find(s+"radio").click(function(t){t.preventDefault();if(e(this).hasClass(o))return;clearInterval(a);var n=r.find(s+"radio").index(e(this)),i=u==1?0:u-1,u=n;g(false,i);m()});m()}else{i=e.extend(r.data("pref"),n);t.update(i,r)}})},destroy:function(t){if(!t)var t=this;return t.each(function(){var t=e(this),n=".simpleShow-",r=t.data();if(!r.pref)return;t.find(n+"controls "+n+"toLeft, "+n+"controls "+n+"toRight, "+n+"controls "+n+"radios").remove();r.slides.css({display:"block","z-index":r.pref.normIndex});clearInterval(r.timer);t.removeData()})},update:function(n,r){if(!r)var r=this;r.each(function(){t.destroy(e(this));t.init(n,e(this))})}};e.fn.simpleShow=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("There is no such a method")}}})(jQuery);