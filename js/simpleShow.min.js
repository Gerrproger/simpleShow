/*!
 *  simpleShow
 *  v1.5
 *  (c) 2014 Evgenii Dulikov <gerrproger@gmail.com>
 *  https://github.com/Gerrproger/simpleShow
 */
(function(e){var t={init:function(n,r){var i=e.extend({speed:1e3,interval:4e3,radios:true,arrows:true,effect:"crossfade",blocks:10,direction:"bottom",normIndex:10,maxIndex:100},n);jQuery.extend(jQuery.easing,{swing:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n}});if(!r)var r=this;return r.each(function(){function y(){l=setInterval(function(){b()},i.interval+i.speed);r.data("timer",l)}function b(t,n){var s,o,a=r.width(),l=r.height();if(f==p){f=s=0;o=t?1:p-1}else{s=f;o=t?f+1==p?0:f+1:f-1}r.data("active",f+1);if(n!=undefined)o=n;var m=h.eq(s),g=h.eq(o);switch(i.effect){case"crossfade":{var y=i.speed*.5;m.fadeIn(y);g.fadeOut(y)}break;case"fading":{var y=i.speed*.5;g.fadeOut(y,function(){m.fadeIn(y)})}break;case"sliding":{var y=i.speed,b=d=="left"||d=="right"?a:l,w=b*.1,E=d=="left"||d=="right",S=E?d=="left"?"+="+w:"-="+w:"auto",x=E?d=="left"?"-="+(b+w):"+="+(b+w):"auto",T=!E?d=="top"?"+="+w:"-="+w:"auto",N=!E?d=="top"?"-="+(b+w):"+="+(b+w):"auto";g.css({"z-index":i.maxIndex,height:l,width:a}).animate({left:S,top:T},y*.3).delay(y*.1).animate({left:x,top:N},y*.6,function(){e(this).css({"z-index":i.normIndex,left:0,top:0,height:"auto",width:"auto"}).hide()});m.show()}break;case"blocks":{var C=Math.floor(a/v)+1,a=a,l=l,k=Math.floor(l/v)+1,L=g,y=Math.floor(i.speed/v),A=d=="bottom"||d=="top",O=A?(d=="top"?-1:1)*l:"auto",M=d=="left"||d=="right"?(d=="left"?-1:1)*a:"auto";for(var _=0;_<v;_++){var D=e("<div>");D.css({position:"absolute",width:A?C:a,height:A?l:k,"z-index":i.maxIndex,top:A?0:_*k+"px",overflow:"hidden",left:A?_*C+"px":0}).html(e(L).clone().css({top:A?0:-1*_*k+"px",width:a,height:l,left:A?-1*_*C+"px":0})).appendTo(r);D.delay(y*_).animate({top:O,left:M,opacity:.2},y*2,function(){e(this).remove()})}m.show();g.hide()}}c.eq(s).addClass(u);c.eq(o).removeClass(u);f++}var r=e(this),s=".simpleShow-",o=' class="simpleShow-',u="simpleShow-active",a=' href="#">',f=1,l=null,c=null,h=r.find(s+"slides "+s+"slide"),p=h.length,d=i.direction,v=i.blocks,m=r.data("pref");if(!m){r.data({pref:i,slides:h,active:1});if(p<2)return;if(i.arrows)r.find(s+"controls").append("<a"+o+'toLeft"'+a).append("<a"+o+'toRight"'+a);if(i.radios){r.find(s+"controls").append("<div"+o+'radios">');for(var g=0;g<p;g++)r.find(s+"radios").append("<a"+o+'radio"'+a);r.find(s+"radio:first").addClass(u);c=r.find(s+"radio")}h.css({overflow:"hidden","z-index":i.normIndex});r.find(s+"toLeft").click(function(e){e.preventDefault();clearInterval(l);f=f>2?f-2:f==1?p-1:p;b(true);y()});r.find(s+"toRight").click(function(e){e.preventDefault();clearInterval(l);b();y()});r.find(s+"radio").click(function(t){t.preventDefault();if(e(this).hasClass(u))return;clearInterval(l);var n=r.find(s+"radio").index(e(this)),i=o==1?0:o-1,o=n;b(false,i);y()});y()}else t.update(n,r)})},destroy:function(t){if(!t)var t=this;return t.each(function(){var t=e(this),n=".simpleShow-",r=t.data();if(!r.pref)return;t.find(n+"controls "+n+"toLeft, "+n+"controls "+n+"toRight, "+n+"controls "+n+"radios").remove();r.slides.css({"z-index":r.pref.normIndex}).show();clearInterval(r.timer);t.removeData()})},update:function(n,r){if(!r)var r=this;return r.each(function(){var r=e(this),i=e.extend(r.data("pref"),n);t.destroy(r);t.init(i,r)})},params:function(){var t=[];e(this).each(function(){var n=e(this);t.push({item:n,settings:n.data("pref"),slides:n.data("slides"),active:n.data("active")})});return t}};e.fn.simpleShow=function(e){if(t[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return t.init.apply(this,arguments)}})(jQuery);